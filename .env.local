# ------------------------------------------------------------------------------
# Backend API Server
# ------------------------------------------------------------------------------
PORT=9920
HOST=0.0.0.0
LOG_LEVEL=info

# ------------------------------------------------------------------------------
# Database (PostgreSQL)
# ------------------------------------------------------------------------------
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=ododocs
POSTGRES_HOST=localhost
POSTGRES_PORT=9700

# Used by Prisma
DATABASE_URL="postgresql://postgres:postgres@localhost:9700/ododocs?schema=public"

# ------------------------------------------------------------------------------
# Redis (for Hocuspocus scaling & Queues)
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=9720

# ------------------------------------------------------------------------------
# Hocuspocus (Collaboration Server)
# ------------------------------------------------------------------------------
HOCUSPOCUS_PORT=9930

# ------------------------------------------------------------------------------
# Object Storage (MinIO / S3 / R2)
# ------------------------------------------------------------------------------
# Internal endpoint for backend to communicate with storage
OBJECT_STORAGE_ENDPOINT=http://localhost:9710


OBJECT_STORAGE_REGION=ap-northeast-2
OBJECT_STORAGE_BUCKET=ododocs
OBJECT_STORAGE_ACCESS_KEY=minio
OBJECT_STORAGE_SECRET_KEY=minio123

# ------------------------------------------------------------------------------
# MinIO Ports (Docker Host Mapping - Local/Infra)
# ------------------------------------------------------------------------------
MINIO_PORT_API=9710
MINIO_PORT_CONSOLE=9711

# ------------------------------------------------------------------------------
# Security & Cookies
# ------------------------------------------------------------------------------
COOKIE_SECRET=local-dev-secret
COOKIE_DOMAIN=
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# ------------------------------------------------------------------------------
# Frontend Runtime Variables (Managed by Backend)
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
FRONTEND_URL=http://localhost:9910

# ------------------------------------------------------------------------------
# Production Infra (Cloudflare & TLS)
# ------------------------------------------------------------------------------
# Unused locally, but kept for reference/structure
CLOUDFLARE_EMAIL=
CLOUDFLARE_API_TOKEN=

# ------------------------------------------------------------------------------
# Frontend Build-Time Variables (Vite)
# ------------------------------------------------------------------------------
# These are baked into the frontend build. Re-build required if changed.
VITE_API_BASE_URL=http://localhost:9920
VITE_HOCUSPOCUS_URL=ws://localhost:9930
