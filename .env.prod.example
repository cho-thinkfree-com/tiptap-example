# ------------------------------------------------------------------------------
# Backend API Server
# ------------------------------------------------------------------------------
PORT=9920
HOST=0.0.0.0
LOG_LEVEL=info

# ------------------------------------------------------------------------------
# Security & Cookies
# ------------------------------------------------------------------------------
COOKIE_SECRET=change-me-in-production-secure-string-here
COOKIE_DOMAIN=.ododocs.com
COOKIE_SECURE=true
COOKIE_SAME_SITE=lax

# ------------------------------------------------------------------------------
# Frontend Runtime Variables (Managed by Backend)
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
FRONTEND_URL=https://service.ododocs.com

# ------------------------------------------------------------------------------
# Frontend Build-Time Variables (Vite)
# ------------------------------------------------------------------------------
# These are baked into the frontend build. Re-build required if changed.
VITE_API_BASE_URL=https://api.ododocs.com
VITE_HOCUSPOCUS_URL=wss://collab.ododocs.com

# ------------------------------------------------------------------------------
# Hocuspocus (Collaboration Server)
# ------------------------------------------------------------------------------
HOCUSPOCUS_PORT=9930

# ------------------------------------------------------------------------------
# Database (PostgreSQL)
# ------------------------------------------------------------------------------
POSTGRES_USER=postgres
POSTGRES_PASSWORD=secure_password_here
POSTGRES_DB=postgres
POSTGRES_HOST=host.docker.internal
POSTGRES_PORT=9700

# Used by Prisma
DATABASE_URL="postgresql://postgres:secure_password_here@host.docker.internal:9700/postgres?schema=public"

# ------------------------------------------------------------------------------
# Redis (for Hocuspocus scaling & Queues)
# ------------------------------------------------------------------------------
REDIS_HOST=host.docker.internal
REDIS_PORT=9720

# ------------------------------------------------------------------------------
# Object Storage (MinIO / S3 / R2)
# ------------------------------------------------------------------------------
# Cloudflare R2
OBJECT_STORAGE_ENDPOINT=https://f5bad740880600dc0d0b14f14299107a.r2.cloudflarestorage.com
OBJECT_STORAGE_REGION=us-east-1
OBJECT_STORAGE_BUCKET=ododocs-prd
OBJECT_STORAGE_ACCESS_KEY=your_access_key
OBJECT_STORAGE_SECRET_KEY=your_secret_key

# ------------------------------------------------------------------------------
# MinIO Ports (Docker Host Mapping - Local/Infra)
# ------------------------------------------------------------------------------
MINIO_PORT_API=9710
MINIO_PORT_CONSOLE=9711

# ------------------------------------------------------------------------------
# Production Infra (Cloudflare & TLS)
# ------------------------------------------------------------------------------
# Used for DNS-01 Challenge via Certbot to issue Wildcard SSL certificates
CLOUDFLARE_EMAIL=your_email@example.com
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here
